/*
 * http://localhost:8080/h2-console
 * 
 * JDBC URL: jdbc:h2:mem:testdb
 * 
 */

DROP TABLE SECUENCIAS 			IF EXISTS;
DROP TABLE USUARIOS 			IF EXISTS;
DROP TABLE PLAZAS 				IF EXISTS;
DROP TABLE RESERVAS 			IF EXISTS;

CREATE TABLE SECUENCIAS(
	SEQ_NAME	VARCHAR(100)	NOT NULL,
	SEQ_NUMBER	BIGINT			NOT NULL
);

CREATE TABLE USUARIOS (
	ID_USUARIO		BIGINT			NOT NULL,
	NOMBRE			VARCHAR(100)	NOT NULL,
	APELLIDO1		VARCHAR(100)	NOT NULL,
	APELLIDO2		VARCHAR(100)	NOT NULL,
	PRIMARY KEY(ID_USUARIO)
);

CREATE TABLE PLAZAS (
	ID_PLAZA		BIGINT			NOT NULL,
	PROPIETARIO		VARCHAR(100)	NOT NULL,
	PLANTA			VARCHAR(100)	NOT NULL,
	TELEFONO		VARCHAR(100)	NOT NULL,
	EMAIL			VARCHAR(100)	NOT NULL,
	DISPONIBLE		BOOLEAN			NOT NULL,
	PRIMARY KEY(ID_PLAZA)
);

CREATE TABLE RESERVAS (
	ID_RESERVA			BIGINT		NOT NULL,
	ID_USUARIO			BIGINT		NOT NULL,
	ID_PLAZA			BIGINT		NOT NULL,
	FECHAINICIO			DATETIME	NOT NULL,
	FECHAFIN			DATETIME	NOT NULL,
	PRIMARY KEY (ID_RESERVA),
	FOREIGN KEY (ID_USUARIO) REFERENCES USUARIOS(ID_USUARIO),
	FOREIGN KEY (ID_PLAZA) REFERENCES PLAZAS(ID_PLAZA)
);